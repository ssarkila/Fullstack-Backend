{"version":3,"sources":["personService.js","Filter.js","PersonForm.js","Button.js","Persons.js","Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","console","log","post","id","put","delete","Filter","props","value","searchName","onChange","handleSearhName","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","onClick","addPerson","type","Button","name","text","Persons","persons","map","person","toLowerCase","includes","key","number","deletePerson","Notification","message","className","App","useState","setPersons","setSearchName","setNewName","setNewNumber","notificationMessage","setNotificationMessage","setClassName","useEffect","personService","event","target","preventDefault","findIndex","p","find","window","confirm","changedPerson","setTimeout","catch","error","createdPerson","concat","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+PACMA,EAAU,eAuBD,EArBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB5B,EAhBA,SAAAC,GAGb,OAFAC,QAAQC,IAAI,YAAaF,GACTL,IAAMQ,KAAKT,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACK,EAAIJ,GAElB,OADgBL,IAAMU,IAAN,UAAaX,EAAb,YAAwBU,GAAMJ,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAACK,GAEd,OADgBT,IAAMW,OAAN,UAAgBZ,EAAhB,YAA2BU,IAC5BP,MAAK,SAAAC,GAAQ,OAAIA,MCHnBS,EAfA,SAAAC,GACb,OACE,mDAC2B,2BACvBC,MAAOD,EAAME,WACbC,SAAUH,EAAMI,oBCuBTC,EA5BI,SAAAL,GACjB,OACE,8BACE,sCACU,2BACNC,MAAOD,EAAMM,QACbH,SAAUH,EAAMO,oBAEpB,wCACY,2BACRN,MAAOD,EAAMQ,UACbL,SAAUH,EAAMS,sBAEpB,6BACE,4BAAQC,QAASV,EAAMW,UAAWC,KAAK,UAAvC,UCDOC,EAbA,SAAC,GAAD,IAAGjB,EAAH,EAAGA,GAAIkB,EAAP,EAAOA,KAAMJ,EAAb,EAAaA,QAASK,EAAtB,EAAsBA,KAAtB,OACb,4BAAQnB,GAAMA,EAAIkB,KAAQA,EAAOJ,QAASA,GACvCK,ICiBUC,EAlBC,SAAAhB,GACd,OACE,6BACGA,EAAMiB,QAAQC,KAAI,SAACC,GAClB,OACEA,EAAOL,KAAKM,cAAcC,SAASrB,EAAME,WAAWkB,eAClD,uBAAGE,IAAKH,EAAOvB,IAAKuB,EAAOL,KAA3B,IAAkCK,EAAOI,OAAzC,IAAiD,kBAAC,EAAD,CAAQ3B,GAAIuB,EAAOvB,GAAIkB,KAAMK,EAAOL,KAAMJ,QAASV,EAAMwB,aAAcT,KAAK,YAAkB,UCU5IU,EAjBM,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC/B,OAAgB,OAAZD,EACK,KAIP,yBAAKC,UAAWA,GACbD,IC8IQE,EAjJH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRZ,EADQ,KACCa,EADD,OAEsBD,mBAAS,IAF/B,mBAER3B,EAFQ,KAEI6B,EAFJ,OAGgBF,mBAAS,IAHzB,mBAGRvB,EAHQ,KAGC0B,EAHD,OAIoBH,mBAAS,IAJ7B,mBAIRrB,EAJQ,KAIGyB,EAJH,OAKuCJ,mBAAS,MALhD,mBAKRK,EALQ,KAKaC,EALb,OAMmBN,mBAAS,MAN5B,mBAMRF,EANQ,KAMGS,EANH,KAQhBC,qBAAU,WACRC,IAEGjD,MAAK,SAAAC,GACJG,QAAQC,IAAI,WAAYJ,GACxBwC,EAAWxC,QAEd,IAwGH,OACE,6BACE,yCACA,kBAAC,EAAD,CACEY,WAAcA,EACdE,gBAjBkB,SAACmC,GACvBR,EAAcQ,EAAMC,OAAOvC,UAkBzB,yCACA,kBAAC,EAAD,CAAcyB,QAASQ,EAAqBP,UAAaA,IACzD,kBAAC,EAAD,CACErB,QAAWA,EACXE,UAAaA,EACbD,iBApBmB,SAACgC,GACxBP,EAAWO,EAAMC,OAAOvC,QAoBpBQ,mBAjBqB,SAAC8B,GAC1BN,EAAaM,EAAMC,OAAOvC,QAiBtBU,UApHY,SAAC4B,GAEjB,GADAA,EAAME,kBAC2C,IAA9CxB,EAAQyB,WAAU,SAAAC,GAAC,OAAIA,EAAE7B,OAAOR,KACnC,CACE,IAAMa,EAASF,EAAQ2B,MAAK,SAAAD,GAAC,OAAIA,EAAE7B,OAASR,KAC5C,GAAIuC,OAAOC,QAAP,UAAkB3B,EAAOL,KAAzB,2EACJ,CACE,IAAMiC,EAAa,eAAQ5B,EAAR,CAAgBI,OAAQf,IAC3C8B,EACUnB,EAAOvB,GAAImD,GAClB1D,MAAK,SAAAC,GACJwC,EAAWb,EAAQC,KAAI,SAAAC,GAAM,OAAIA,EAAOL,OAASR,EAAUa,EAAS7B,MACpE8C,EAAa,gBACbD,EAAuB,WAAD,OAAY7B,EAAZ,sBAAiCE,IACvDwC,YAAW,WACTb,EAAuB,MACvBC,EAAa,QACZ,QAEJa,OAAM,SAAAC,GACLzD,QAAQC,IAAIwD,EAAM5D,UAClB8C,EAAa,SACbD,EAAuB,GAAD,OAAIe,EAAM5D,SAASC,KAAK2D,QAC9CF,YAAW,WACTb,EAAuB,MACvBC,EAAa,QACZ,aAKX,CAEEE,EADkB,CAAExB,KAAMR,EAASiB,OAAQf,IAGxCnB,MAAK,SAAA8D,GACJrB,EAAWb,EAAQmC,OAAOD,IAC1Bf,EAAa,gBACbD,EAAuB,SAAD,OAAU7B,IAChC0C,YAAW,WACTb,EAAuB,MACvBC,EAAa,QACZ,QAEJa,OAAM,SAAAC,GACLzD,QAAQC,IAAIwD,EAAM5D,UAClB8C,EAAa,SACbD,EAAuB,GAAD,OAAIe,EAAM5D,SAASC,KAAK2D,QAC9CF,YAAW,WACTb,EAAuB,MACvBC,EAAa,QACZ,QAITJ,EAAW,IACXC,EAAa,OA8DX,uCACA,kBAAC,EAAD,CACEhB,QAAWA,EACXf,WAAcA,EACdsB,aA/De,SAAfA,EAAgBe,GACpB9C,QAAQC,IAAI,eAAgB8B,GAC5Be,EAAME,iBACN,IAAMtB,EAASoB,EAAMC,OACrB/C,QAAQC,IAAI,SAAUyB,GAClB0B,OAAOC,QAAP,iBAAyB3B,EAAOL,KAAhC,QAEFwB,EACUnB,EAAOvB,IACdP,MAAK,WACJyC,EAAWb,EAAQoC,QAAO,SAAAV,GAAC,OAAIA,EAAE7B,OAASK,EAAOL,SACjDsB,EAAa,gBACbD,EAAuB,WAAD,OAAYhB,EAAOL,OACzCkC,YAAW,WACTb,EAAuB,MACvBC,EAAa,QACZ,QAEJa,OAAM,SAAAC,GACLzD,QAAQC,IAAIwD,EAAM5D,UAClBwC,EAAWb,EAAQoC,QAAO,SAAAV,GAAC,OAAIA,EAAE7B,OAASK,EAAOL,SACjDsB,EAAa,SACbD,EAAuB,kBAAD,OAAmBhB,EAAOL,KAA1B,0CACtBkC,YAAW,WACTb,EAAuB,MACvBC,EAAa,QACZ,aCxGbkB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.0eaea2f2.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  console.log('newObject', newObject)\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Filter = props => {\n  return (\n    <div>\n            filted shown with: <input\n        value={props.searchName}\n        onChange={props.handleSearhName}/>\n    </div>\n  )\n}\n\nFilter.propTypes = {\n  searchName: PropTypes.string,\n  handleSearhName: PropTypes.func\n}\n\nexport default Filter","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst PersonForm = props => {\n  return (\n    <form>\n      <div>\n          name: <input\n          value={props.newName}\n          onChange={props.handleNameChange}/>\n      </div>\n      <div>\n          number: <input\n          value={props.newNumber}\n          onChange={props.handleNumberChange}/>\n      </div>\n      <div>\n        <button onClick={props.addPerson} type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nPersonForm.propTypes = {\n  newName: PropTypes.string,\n  newNumber: PropTypes.string,\n  handleNameChange: PropTypes.func,\n  handleNumberChange: PropTypes.func,\n  addPerson: PropTypes.func\n}\n\nexport default PersonForm","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Button = ({ id, name, onClick, text }) => (\n  <button id = {id} name = {name}  onClick={onClick}>\n    {text}\n  </button>\n)\n\nButton.propTypes = {\n  id: PropTypes.string,\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  text: PropTypes.string\n}\n\nexport default Button","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from './Button'\n\nconst Persons = props => {\n  return (\n    <div>\n      {props.persons.map((person) => {\n        return(\n          person.name.toLowerCase().includes(props.searchName.toLowerCase()) ?\n            <p key={person.id}>{person.name} {person.number} <Button id={person.id} name={person.name} onClick={props.deletePerson} text='delete' /></p> : null)}\n      )}\n    </div>\n  )\n}\n\nPersons.propTypes = {\n  persons: PropTypes.string,\n  searchName: PropTypes.string,\n  deletePerson: PropTypes.func\n}\n\nexport default Persons","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Notification = ({ message, className }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={className}>\n      {message}\n    </div>\n  )\n}\n\nNotification.propTypes = {\n  message: PropTypes.string,\n  className: PropTypes.string\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './personService'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ searchName, setSearchName ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n  const [ className, setClassName] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        console.log('response', response)\n        setPersons(response)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if(persons.findIndex(p => p.name===newName) !== -1)\n    {\n      const person = persons.find(p => p.name === newName)\n      if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`))\n      {\n        const changedPerson = { ...person, number: newNumber }\n        personService\n          .update(person.id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.name !== newName ? person : response))\n            setClassName('notification')\n            setNotificationMessage(`Updated ${newName} number to ${newNumber}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n              setClassName(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error.response)\n            setClassName('error')\n            setNotificationMessage(`${error.response.data.error}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n              setClassName(null)\n            }, 5000)\n          })\n      }\n    }\n    else\n    {\n      const newPerson = { name: newName, number: newNumber }\n      personService\n        .create(newPerson)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          setClassName('notification')\n          setNotificationMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setClassName(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response)\n          setClassName('error')\n          setNotificationMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setClassName(null)\n          }, 5000)\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (event) => {\n    console.log('deletePerson', deletePerson)\n    event.preventDefault()\n    const person = event.target\n    console.log('person', person)\n    if (window.confirm(`Delete ${person.name} ?`))\n    {\n      personService\n        .remove(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.name !== person.name))\n          setClassName('notification')\n          setNotificationMessage(`Deleted ${person.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setClassName(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response)\n          setPersons(persons.filter(p => p.name !== person.name))\n          setClassName('error')\n          setNotificationMessage(`Information of ${person.name} has already been removed from server`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setClassName(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleSearhName = (event) => {\n    setSearchName(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter\n        searchName = {searchName}\n        handleSearhName = {handleSearhName}\n      />\n      <h2>Add a new</h2>\n      <Notification message={notificationMessage} className = {className} />\n      <PersonForm\n        newName = {newName}\n        newNumber = {newNumber }\n        handleNameChange ={handleNameChange}\n        handleNumberChange = {handleNumberChange}\n        addPerson = {addPerson}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons = {persons}\n        searchName = {searchName}\n        deletePerson = {deletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}